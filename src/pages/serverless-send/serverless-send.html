<!--
  Generated template for the DroneLockPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
        <button ion-button menuToggle>
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title>
            Pay As Message
        </ion-title>
    </ion-navbar>
</ion-header>


<ion-content padding>
    <ion-list *ngIf="serverless">
        <ion-item-divider class="roundedge">
            Send Bitcoin
        </ion-item-divider>

        <ion-card text-center>
            <ion-label text-wrap>
                <h2> Wallet balance: {{walletbalance.balance}} </h2>
                <h3> Unconfirmed balance: {{walletbalance.unconfirmed_balance}} </h3>

            </ion-label>
        </ion-card>
        <ion-card text-center>
            <ion-label text-wrap>
                <h2> Wallet address: </h2> <h3> {{walletbalance.address}} </h3>
            </ion-label>
            <button item-right ion-button small class="colorbutton" (click)="copyaddress()">Copy address</button>

        </ion-card>
        <ion-card text-center>
            <ion-input type="text" [(ngModel)]="serverless.sendamount" placeholder="Amount to send      "></ion-input>
            <button item-right ion-button small (click)="prepareToSend()" class="colorbutton">Prepare to send</button>
        </ion-card>
        <ion-item text-wrap *ngIf="errordata.preparingmessage != ''" color="danger">
            {{errordata.preparingmessage}}
        </ion-item>

        <ion-card text-center>
            <ion-card-title padding >
                 Message QR-code
            </ion-card-title>
            <ion-card-content text-center *ngIf="serverless.sendtxid   != ''">
                <qr-code id="qrcode" [value]="serverless.sendqrcode" [canvas]="true"></qr-code>
            </ion-card-content>
            <!-- Sharing Icons -->
            <ion-grid>
                <ion-row>
                    <ion-col *ngIf="serverless.sendqrcode != ''">
                      <button ion-button icon-only (click)="regularShare()" color="primary" clear>
                    <ion-icon class="share-icon" name="share"></ion-icon>
                  </button>
                    </ion-col>
                    <ion-col>
                      <button ion-button icon-only (click)="whatsappShare()" color="primary" clear>
                    <ion-icon class="share-icon" name="logo-whatsapp"></ion-icon>
                  </button>
                    </ion-col>
                    <!--ion-col>
                      <button ion-button icon-only (click)="facebookShare(i)" color="primary" clear>
                    <ion-icon  class="share-icon" name="logo-facebook"></ion-icon>
                  </button>
                    </ion-col>
                    <ion-col>
                      <button ion-button icon-only (click)="twitterShare(i)" color="primary" clear>
                    <ion-icon class="share-icon" name="logo-twitter"></ion-icon>
                  </button>
                    </ion-col -->
                    <ion-col>
                        <button ion-button icon-only (click)="copyqrcode()" color="primary" clear>
                            <ion-icon name="copy"></ion-icon>
                        </button>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-card>
        <ion-card text-center>
            <ion-card-title padding >
                Message string
            </ion-card-title>
            <ion-card-content text-center *ngIf="serverless.sendtxid != ''">
                <p>
                    {{serverless.sendstring}}
                </p>

            </ion-card-content>
            <ion-grid>
                <ion-row>
                    <ion-col>
                      <button ion-button icon-only (click)="regularShareMessage()" color="primary" clear>
                    <ion-icon class="share-icon" name="share"></ion-icon>
                  </button>
                    </ion-col>
                    <!-- ion-col>
                      <button ion-button icon-only (click)="whatsappShareMessage()" color="primary" clear>
                    <ion-icon class="share-icon" name="logo-whatsapp"></ion-icon>
                  </button>
                    </ion-col>
                    <ion-col>
                      <button ion-button icon-only (click)="facebookShare(i)" color="primary" clear>
                    <ion-icon  class="share-icon" name="logo-facebook"></ion-icon>
                  </button>
                    </ion-col>
                    <ion-col>
                      <button ion-button icon-only (click)="twitterShare(i)" color="primary" clear>
                    <ion-icon class="share-icon" name="logo-twitter"></ion-icon>
                  </button>
                    </ion-col -->
                    <ion-col>
                      <button ion-button icon-only (click)="whatsappShareMessage()" color="primary" clear>
                    <ion-icon class="share-icon" name="logo-whatsapp"></ion-icon>
                  </button>
                    </ion-col>
                    <ion-col>
                        <button ion-button icon-only (click)="copystring()" color="primary" clear>
                            <ion-icon name="copy"></ion-icon>
                        </button>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-card>


        <ion-card text-center>
            <ion-card-title padding >
                PIN for Message
            </ion-card-title>
            <ion-card-content text-center *ngIf="serverless.sendtxid != ''">
                {{serverless.sendpincode}}
            </ion-card-content>
            <ion-grid>
                <ion-row>
                    <!--ion-col>
                      <button ion-button icon-only (click)="regularShare(i)" color="primary" clear>
                    <ion-icon class="share-icon" name="share"></ion-icon>
                  </button>
                    </ion-col>
                    <ion-col>
                      <button ion-button icon-only (click)="whatsappShare(i)" color="primary" clear>
                    <ion-icon class="share-icon" name="logo-whatsapp"></ion-icon>
                  </button>
                    </ion-col>
                    <ion-col>
                      <button ion-button icon-only (click)="facebookShare(i)" color="primary" clear>
                    <ion-icon  class="share-icon" name="logo-facebook"></ion-icon>
                  </button>
                    </ion-col>
                    <ion-col>
                      <button ion-button icon-only (click)="twitterShare(i)" color="primary" clear>
                    <ion-icon class="share-icon" name="logo-twitter"></ion-icon>
                  </button>
                    </ion-col -->
                    <ion-col>
                        <button ion-button icon-only (click)="copypincode()" color="primary" clear>
                            <ion-icon name="copy"></ion-icon>
                        </button>
                    </ion-col>
                </ion-row>
            </ion-grid>
        </ion-card>
        <ion-card text-center>
            <ion-label text-wrap> Address of payment :{{serverless.sendaddress}}</ion-label>
            <button item-right ion-button small class="colorbutton" (click)="getPaymentBalance()">Check balance</button>
        </ion-card>
        <ion-card>
            <ion-label text-wrap> Sent transaction ID : {{serverless.sendtxid}}</ion-label>
        </ion-card>
        <ion-card>
            <ion-label> Balance : {{balance.balance }}</ion-label>
        </ion-card>
        <ion-card>
            <ion-label> Unconfirmed balance : {{balance.unconfirmed_balance }}</ion-label>
        </ion-card>
    </ion-list>
</ion-content>
